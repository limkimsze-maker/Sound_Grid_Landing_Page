<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sound Grid Programme — Choose Your Version</title>
  <meta name="description" content="Launch the Sound Grid Programme in desktop or mobile layout. Pick once or remember your choice for next time." />
  <meta property="og:title" content="Sound Grid Programme — Choose Your Version" />
  <meta property="og:description" content="Open the Desktop or Mobile experience of Sound Grid." />
  <meta property="og:type" content="website" />
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --ink:#0f172a; --muted:#475569; --line:#e2e8f0; 
      --accent:#2563eb; --accent2:#16a34a; --bg1:#f8fafc; --bg2:#eff6ff;
      --card:#ffffff; --ok:#16a34a; --warn:#f59e0b;
      --radius:18px; --shadow:0 10px 30px rgba(2,6,23,.08);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family:"Lexend",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--ink);
      background:linear-gradient(135deg,var(--bg1),var(--bg2));}
    .wrap{min-height:100%;display:grid;place-items:center;padding:24px}
    .container{width:min(980px,100%);}
    .hero{display:flex;flex-direction:column;gap:12px;align-items:center;text-align:center;margin-bottom:20px}
    h1{font-size:clamp(1.6rem,2.4vw+1rem,2.6rem);line-height:1.1;margin:0}
    .subtitle{color:var(--muted);font-size:clamp(.95rem,1vw+.7rem,1.125rem)}

    .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:16px}
    @media (max-width:720px){.grid{grid-template-columns:1fr}}

    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);
      padding:20px;display:flex;flex-direction:column;gap:14px}
    .badge{display:inline-flex;align-items:center;gap:8px;font-weight:700;border-radius:999px;padding:6px 12px;border:1px solid var(--line);width:max-content}
    .badge svg{width:18px;height:18px}
    .headline{display:flex;align-items:center;gap:10px}
    .headline h2{font-size:1.25rem;margin:0}
    .desc{color:var(--muted);font-size:.98rem}

    .actions{display:flex;flex-wrap:wrap;gap:10px;margin-top:4px}
    .btn{appearance:none;border:1px solid var(--line);background:#fff;border-radius:14px;padding:10px 14px;font-weight:700;cursor:pointer;transition:transform .04s ease, box-shadow .2s ease}
    .btn:hover{box-shadow:0 6px 16px rgba(2,6,23,.07)}
    .btn:active{transform:translateY(1px)}
    .btn.primary{background:var(--accent);border-color:var(--accent);color:#fff}
    .btn.success{background:var(--accent2);border-color:var(--accent2);color:#fff}

    .rec{display:flex;align-items:center;gap:8px;font-size:.95rem;color:var(--muted)}
    .rec svg{width:18px;height:18px}

    .row{display:flex;justify-content:space-between;align-items:center;gap:10px}
    .row .left{display:flex;align-items:center;gap:10px}
    .remember{display:flex;align-items:center;gap:10px}
    label.switch{position:relative;display:inline-block;width:50px;height:30px}
    label.switch input{opacity:0;width:0;height:0}
    .slider{position:absolute;cursor:pointer;inset:0;background:#cbd5e1;border-radius:999px;transition:.2s}
    .slider:before{content:"";position:absolute;height:24px;width:24px;left:3px;top:3px;background:white;border-radius:50%;transition:.2s}
    input:checked + .slider{background:var(--accent)}
    input:checked + .slider:before{transform:translateX(20px)}

    .note{margin-top:10px;color:var(--muted);font-size:.9rem}
    .foot{margin-top:18px;text-align:center;color:var(--muted);font-size:.85rem}
    .pill{display:inline-flex;gap:8px;align-items:center;background:#fff;border:1px dashed var(--line);padding:8px 12px;border-radius:999px}

    .toast{position:fixed;inset:auto 16px 16px auto;background:#0ea5e9;color:#001826;padding:10px 14px;border-radius:12px;box-shadow:var(--shadow);font-weight:700;opacity:0;transform:translateY(10px);transition:.25s}
    .toast.show{opacity:1;transform:none}
  </style>
</head>
<body>
<div class="wrap">
  <div class="container">
    <header class="hero">
      <h1>Sound Grid Programme</h1>
      <p class="subtitle">Choose the experience that fits your device. You can also remember your choice for next time.</p>
      <div class="pill" id="device-pill" aria-live="polite">Detecting your device…</div>
    </header>

    <main class="grid" aria-label="Version chooser">
      <!-- Desktop card -->
      <section class="card" id="card-desktop">
        <span class="badge" title="Best for laptops/desktops">
          <!-- monitor icon -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><rect x="2" y="3" width="20" height="14" rx="2"/><path d="M8 21h8M12 17v4"/></svg>
          Desktop
        </span>
        <div class="headline"><h2>Desktop Version</h2></div>
        <p class="desc">Optimised for larger screens with a spacious grid layout and keyboard-friendly controls.</p>
        <div class="actions">
          <a class="btn primary" href="https://limkimsze-maker.github.io/Sound_Grid/" target="_blank" rel="noopener" id="open-desktop">Open Desktop</a>
          <button class="btn" data-copy="https://limkimsze-maker.github.io/Sound_Grid/">Copy link</button>
        </div>
        <div class="rec" id="rec-desktop" hidden>
          <!-- star icon -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polygon points="12 2 15 11 24 11 17 17 20 26 12 20 4 26 7 17 0 11 9 11" transform="scale(.8) translate(3 -1)"/></svg>
          Recommended for your device
        </div>
      </section>

      <!-- Mobile card -->
      <section class="card" id="card-mobile">
        <span class="badge" title="Best for phones">
          <!-- phone icon -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><rect x="7" y="2" width="10" height="20" rx="2"/><path d="M11 19h2"/></svg>
          Mobile
        </span>
        <div class="headline"><h2>Mobile Version</h2></div>
        <p class="desc">Touch-first, single‑column layout that fits small screens without pinch‑zoom.</p>
        <div class="actions">
          <a class="btn success" href="https://limkimsze-maker.github.io/Sound_Grid_on_Phone/" target="_blank" rel="noopener" id="open-mobile">Open Mobile</a>
          <button class="btn" data-copy="https://limkimsze-maker.github.io/Sound_Grid_on_Phone/">Copy link</button>
        </div>
        <div class="rec" id="rec-mobile" hidden>
          <!-- star icon reused -->
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polygon points="12 2 15 11 24 11 17 17 20 26 12 20 4 26 7 17 0 11 9 11" transform="scale(.8) translate(3 -1)"/></svg>
          Recommended for your device
        </div>
      </section>
    </main>

    <section class="card" style="margin-top:16px">
      <div class="row">
        <div class="left">
          <div class="remember">
            <label class="switch">
              <input type="checkbox" id="remember">
              <span class="slider" aria-hidden="true"></span>
            </label>
            <div>
              <div style="font-weight:700">Remember my choice</div>
              <div class="note">When on, you’ll be sent straight to your chosen version next time.</div>
            </div>
          </div>
        </div>
        <div class="actions">
          <button class="btn" id="detect">Detect my device</button>
          <button class="btn" id="clear">Clear saved choice</button>
        </div>
      </div>
    </section>

    <footer class="foot">
      © 2025 Lim Kim Sze · Built for SLS‑friendly sharing · <span title="Open links in new tab">Links open in a new tab</span>
    </footer>
  </div>
</div>

<div id="toast" class="toast" role="status" aria-live="polite">Link copied</div>

<script>
(function(){
  const DESKTOP_URL = 'https://limkimsze-maker.github.io/Sound_Grid/';
  const MOBILE_URL  = 'https://limkimsze-maker.github.io/Sound_Grid_on_Phone/';
  const KEY = 'soundgrid.choice'; // 'desktop' | 'mobile'

  const rememberEl = document.getElementById('remember');
  const toast = document.getElementById('toast');
  const devicePill = document.getElementById('device-pill');
  const recDesktop = document.getElementById('rec-desktop');
  const recMobile = document.getElementById('rec-mobile');

  // Utility: show toast
  function showToast(msg){
    toast.textContent = msg || 'Done';
    toast.classList.add('show');
    setTimeout(()=>toast.classList.remove('show'), 1400);
  }

  // Copy link buttons
  document.querySelectorAll('[data-copy]')?.forEach(btn=>{
    btn.addEventListener('click', async ()=>{
      const link = btn.getAttribute('data-copy');
      try{ await navigator.clipboard.writeText(link); showToast('Link copied'); }
      catch{ showToast('Copy failed'); }
    });
  });

  // Remember choice toggle persistence
  rememberEl.addEventListener('change', ()=>{
    localStorage.setItem(KEY + '.remember', rememberEl.checked ? '1':'0');
  });

  // Auto redirect if a remembered choice exists
  (function maybeRedirect(){
    const remember = localStorage.getItem(KEY + '.remember') === '1';
    const choice = localStorage.getItem(KEY);
    if(remember && choice){
      const url = choice === 'desktop' ? DESKTOP_URL : MOBILE_URL;
      window.location.replace(url);
    }
  })();

  // Device detection + recommendation badges
  function isProbablyMobile(){
    // Combine viewport width and coarse pointer check
    const narrow = window.matchMedia('(max-width: 800px)').matches;
    const coarse = window.matchMedia('(pointer: coarse)').matches;
    return narrow || coarse;
  }

  function updateRecommendationUI(){
    const mobile = isProbablyMobile();
    devicePill.textContent = mobile ? 'Looks like a phone/tablet — Mobile is recommended' : 'Looks like a laptop/desktop — Desktop is recommended';
    recMobile.hidden = !mobile; recDesktop.hidden = mobile;
  }

  updateRecommendationUI();
  window.addEventListener('resize', updateRecommendationUI, {passive:true});

  // Detect button
  document.getElementById('detect').addEventListener('click', updateRecommendationUI);

  // Clear choice
  document.getElementById('clear').addEventListener('click', ()=>{
    localStorage.removeItem(KEY); localStorage.removeItem(KEY + '.remember');
    rememberEl.checked = false; showToast('Saved choice cleared');
  });

  // Save choice when user clicks either Open button
  document.getElementById('open-desktop').addEventListener('click', ()=>{
    localStorage.setItem(KEY, 'desktop');
  });
  document.getElementById('open-mobile').addEventListener('click', ()=>{
    localStorage.setItem(KEY, 'mobile');
  });

  // Restore toggle state
  rememberEl.checked = localStorage.getItem(KEY + '.remember') === '1';
})();
</script>
</body>
</html>
